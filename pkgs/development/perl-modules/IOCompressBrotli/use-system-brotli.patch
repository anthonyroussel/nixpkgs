Use system broli in Makefile.PL

diff --git a/Makefile.PL b/Makefile.PL
index 6fa2d87..4f662e0 100644
--- a/Makefile.PL
+++ b/Makefile.PL
@@ -1,23 +1,19 @@
 use 5.008000;
 use ExtUtils::MakeMaker;
-use Alien::cmake3;
 use File::Spec::Functions qw/catfile/;
 use Config;

-my $cmake_options;
-my $myextlib = 'brotli/libbrotlienc$(LIB_EXT) brotli/libbrotlidec$(LIB_EXT) brotli/libbrotlicommon$(LIB_EXT)';
-
-if ($Config{myuname} =~ /strawberry/i || $Config{osname} =~ /MSWin/i ) {
-    if ($Config{cc} =~ /gcc/i) {
-        $cmake_options = ' -G "MinGW Makefiles" ';
-    } elsif ($Config{cc} =~ /cl/i) {
-        $cmake_options = ' -G "NMake Makefiles" ';
-        $myextlib = 'brotli/libbrotlienc$(LIB_EXT) brotli/libbrotlidec$(LIB_EXT) brotli/libbrotlicommon$(LIB_EXT)';
-    } else {
-        $cmake_options = '';
-        $myextlib = 'brotli/libbrotlienc$(LIB_EXT) brotli/libbrotlidec$(LIB_EXT) brotli/libbrotlicommon$(LIB_EXT)';
-    }
-}
+use ExtUtils::PkgConfig;
+my ( $inc, $libs );
+my %pkg = ExtUtils::PkgConfig->find('libbrotlienc');
+$inc    = $pkg{cflags};
+$libs   = $pkg{libs};
+%pkg    = ExtUtils::PkgConfig->find('libbrotlidec');
+$inc   .= $pkg{cflags};
+$libs  .= $pkg{libs};
+%pkg    = ExtUtils::PkgConfig->find('libbrotlicommon');
+$inc   .= $pkg{cflags};
+$libs  .= $pkg{libs};

 WriteMakefile(
 	NAME             => 'IO::Compress::Brotli',
@@ -33,16 +29,8 @@ WriteMakefile(
 		'Getopt::Long'  => '0',
 		'Time::HiRes'   => '0',
 	},
-	CONFIGURE_REQUIRES   => {
-		'Alien::cmake3' => '0',
-	},
-	BUILD_REQUIRES   => {
-		'Alien::cmake3' => '0',
-	},
-	INC              => '-Ibrotli/c/include',
-	MYEXTLIB         => $myextlib,
-	EXTRALIBS        => ' brotli/libbrotlienc$(LIB_EXT) brotli/libbrotlidec$(LIB_EXT) brotli/libbrotlicommon$(LIB_EXT) ',
-	clean            => { FILES => "brotli/Makefile $myextlib brotli/CMakeCache.txt brotli/CMakeFiles/* brotli/CTestTestfile.cmake brotli/DartConfiguration.tcl brotli/brotli* brotli/cmake_install.cmake brotli/libbrotlicommon.pc brotli/libbrotlidec.pc brotli/libbrotlienc.pc" },
+	LIBS             => [$libs],
+	INC              => $inc,
 	META_ADD         => {
 		dynamic_config => 0,
 		resources      => {
@@ -50,12 +38,3 @@ WriteMakefile(
 		},
 	}
 );
-
-sub MY::postamble {
-    my @dirs = Alien::cmake3->bin_dir;
-    my $cmake = defined $dirs[0] ? catfile($dirs[0] , Alien::cmake3->exe) : Alien::cmake3->exe;
-'
-$(MYEXTLIB): brotli/CMakeLists.txt
-	cd brotli && "' . $cmake . '"' . $cmake_options . ' -DCMAKE_MAKE_PROGRAM=$(MAKE) -DBUILD_SHARED_LIBS=OFF -DCMAKE_POSITION_INDEPENDENT_CODE=ON -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=./installed . && $(MAKE)
-'
-}
